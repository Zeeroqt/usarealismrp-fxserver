import{R as V,r as c,a as o,j as e,F as W}from"./jsx-runtime-f40812bf.js";import{f as L,L as h,k as $,E as Ne,b as X,I as be,n as ye,bQ as q,b5 as K,Q as ie,C as U,h as le,ag as pe,ab as ve,v as G,c as J,u as Ee,bR as Se,X as he,O as te,Z as Ie,_ as ue,at as Te,bC as Ce,W as Me,x as Ae,d as De,S as se,aF as xe}from"./Phone-bbdfbfe1.js";import"./number-28525126.js";var oe=function(r){return new Promise(function(i){setTimeout(i,r)})};const R={snapBackDuration:300,maxTilt:5,bouncePower:.1,swipeThreshold:100},Re=s=>{const r=window.getComputedStyle(s),i=r.getPropertyValue("width"),a=Number(i.split("px")[0]),u=r.getPropertyValue("height"),p=Number(u.split("px")[0]);return{x:a,y:p}},me=(s,r)=>Math.sqrt(Math.pow(s,2)+Math.pow(r,2)),ke=(s,r=1)=>{const i=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.y,2));return{x:s.x*r/i,y:s.y*r/i}},ne=async(s,r,i=!1)=>{const a=Q(s),u=Re(document.body),p=me(u.x,u.y),g=me(r.x,r.y),f=p/g,w=p/g,I=ce(r.x*w+a.x,-r.y*w+a.y);let T="";const d=200;i?s.style.transition="ease "+f+"s":s.style.transition="ease-out "+f+"s",Y(s)===0?T=z((Math.random()-.5)*d):Y(s)>0?T=z(Math.random()*d/2+Y(s)):T=z((Math.random()-1)*d/2+Y(s)),s.style.transform=I+T,await oe(f*1e3)},ge=async s=>{s.style.transition=R.snapBackDuration+"ms";const r=Q(s),i=ce(r.x*-R.bouncePower,r.y*-R.bouncePower),a=z(Y(s)*-R.bouncePower);s.style.transform=i+a,await oe(R.snapBackDuration*.75),s.style.transform="none",await oe(R.snapBackDuration),s.style.transition="10ms"},fe=s=>{if(Math.abs(s.x)>Math.abs(s.y)){if(s.x>R.swipeThreshold)return"right";if(s.x<-R.swipeThreshold)return"left"}else{if(s.y>R.swipeThreshold)return"up";if(s.y<-R.swipeThreshold)return"down"}return"none"},we=(s,r)=>{const i=r.x-s.x,a=s.y-r.y,u=(r.time-s.time)/1e3;return{x:i/u,y:a/u}},ce=(s,r)=>"translate("+s+"px)",z=s=>"rotate("+s+"deg)",Q=s=>{const r=window.getComputedStyle(s),i=new DOMMatrix(r.transform);return{x:i.m41,y:-i.m42}},Y=s=>{const r=window.getComputedStyle(s),i=new DOMMatrix(r.transform);return-Math.asin(i.m21)/(2*Math.PI)*360},Le=(s,r,i,a)=>{const u={x:s.x+i.x,y:s.y+i.y},p={x:u.x,y:u.y,time:new Date().getTime()},g=ce(u.x),f=we(a,p).x/1e3,w=z(f*R.maxTilt);return r.style.transform=g+w,p},ae=s=>{const r=s.targetTouches[0];return{x:r.clientX,y:r.clientY}},re=s=>({x:s.clientX,y:s.clientY}),_e=V.forwardRef(({flickOnSwipe:s=!0,children:r,onSwipe:i,onCardLeftScreen:a,className:u,preventSwipe:p=[],swipeRequirementType:g="velocity",swipeThreshold:f=R.swipeThreshold,onSwipeRequirementFulfilled:w,onSwipeRequirementUnfulfilled:I},T)=>{R.swipeThreshold=f;const d=V.useRef(!1),l=V.useRef();V.useImperativeHandle(T,()=>({async swipe(E="right"){i&&i(E);const n=1e3,P=(Math.random()-.5)*100;E==="right"?await ne(l.current,{x:n,y:P},!0):E==="left"&&await ne(l.current,{x:-n,y:P},!0),l.current.style.display="none",a&&a(E)},async restoreCard(){l.current.style.display="block",await ge(l.current)}}));const v=V.useCallback(async(E,n)=>{if(d.current)return;d.current=!0;const P=Q(E),M=fe(g==="velocity"?n:P);if(M!=="none"&&(i&&i(M),s&&!p.includes(M))){const k=g==="velocity"?n:ke(P,600);await ne(E,k),E.style.display="none",a&&a(M);return}ge(E)},[d,s,i,a,p,g]),b=V.useCallback(()=>{d.current=!1},[d]);return V.useLayoutEffect(()=>{let E={x:null,y:null},n={x:0,y:0},P={x:0,y:0,time:new Date().getTime()},M=!1,k="none";l.current.addEventListener("touchstart",t=>{t.preventDefault(),b(),E={x:-ae(t).x,y:-ae(t).y}}),l.current.addEventListener("mousedown",t=>{t.preventDefault(),M=!0,b(),E={x:-re(t).x,y:-re(t).y}});const N=t=>{if(w||I){const C=fe(g==="velocity"?n:Q(l.current));C!==k&&(k=C,k==="none"?I&&I():w&&w(C))}const y=Le(t,l.current,E,P);n=we(P,y),P=y};l.current.addEventListener("touchmove",t=>{t.preventDefault(),N(ae(t))}),l.current.addEventListener("mousemove",t=>{t.preventDefault(),M&&N(re(t))}),l.current.addEventListener("touchend",t=>{t.preventDefault(),v(l.current,n)}),l.current.addEventListener("mouseup",t=>{M&&(t.preventDefault(),M=!1,v(l.current,n))}),l.current.addEventListener("mouseleave",t=>{M&&(t.preventDefault(),M=!1,v(l.current,n))})},[]),V.createElement("div",{ref:l,className:u},r)});function de(){const{View:s}=c.useContext(H),[r,i]=s;return o("div",{className:"home-header",children:[e("img",{src:"./assets/img/icons/tinder/profile.svg",onClick:()=>i("profile")}),e("img",{className:"logo",src:"./assets/img/icons/tinder/logo.png",onClick:()=>i("home")}),e("img",{src:"./assets/img/icons/tinder/messages.svg",onClick:()=>i("messageList")})]})}function Oe(){const{View:s,User:r}=c.useContext(H),[i,a]=s,[u,p]=r,[g,f]=c.useState([]),[w,I]=c.useState(0),[T,d]=c.useState(),l=c.useRef(w),v=c.useRef(0),[b,E]=c.useState([]),[n,P]=c.useState(0),[M,k]=c.useState(!1),[N,t]=c.useState(null);let[y,C]=c.useState("");c.useEffect(()=>{L("Tinder",{action:"getFeed",page:0}).then(m=>{m&&m.length>0?(f(m),I(m.length-1),v.current=m.length,E(Array(m.length).fill(0).map(D=>V.createRef()))):k(!0)})},[]);const S=m=>{I(m),l.current=m},A=w<g.length-1,_=w>=0,B=(m,D,O)=>{d(m),S(O-1),ee(),m==="right"?L("Tinder",{action:"swipe",like:!0,number:D.number}).then(Pe=>{Pe&&t(D)}):m==="left"&&L("Tinder",{action:"swipe",like:!1,number:D.number})},j=(m,D)=>{l.current>=D&&b[D].current.restoreCard()},x=async m=>{_&&w<g.length&&(await b[w].current.swipe(m),ee())},F=async()=>{var D,O;if(!A)return;const m=w+1;S(m),await((O=(D=b[m])==null?void 0:D.current)==null?void 0:O.restoreCard())},ee=()=>{if(v.current>1){v.current=v.current-1;return}L("Tinder",{action:"getFeed",page:n+1}).then(m=>{if(m)if(m&&m.length>0){P(n+1);let D=m.length+g.length;f(O=>(O=[...O,...m],O)),v.current=m.length,I(D-1),E(Array(D).fill(0).map(O=>V.createRef()))}else k(!0)})};return o("div",{className:`home-wrapper slide ${i=="profile"?"left":"right"}`,children:[e(de,{}),N&&o("div",{className:"match",style:{backgroundImage:`url(${N.photos[0]})`},children:[e("img",{className:"match-image",src:"./assets/img/icons/tinder/match.png"}),o("div",{className:"likes-too",children:[N.name," ",h("APPS.TINDER.LIKES_YOU_TOO").toLowerCase()]}),o("div",{className:"input",children:[e($,{type:"text",placeholder:h("APPS.TINDER.SAY_SOMETHING_NICE"),onChange:m=>C(m.target.value)}),e("div",{className:"send",onClick:()=>{L("Tinder",{action:"sendMessage",data:{recipient:N.number,content:y}}).then(m=>{m&&(p(N),a("message"))})},children:h("APPS.TINDER.SEND")})]}),e("div",{className:"keep-swiping",onClick:()=>{t(null)},children:h("APPS.TINDER.KEEP_SWIPING")})]}),o("div",{className:"home-body",children:[o("div",{className:"cards",children:[M&&e("div",{className:"card no-more",children:e("div",{children:h("APPS.TINDER.NO_MORE")})}),g.map((m,D)=>e(_e,{ref:b[D],className:"swipe",onSwipe:O=>B(O,m,D),onCardLeftScreen:()=>j(m,D),children:e(Ve,{user:m})},D))]}),o("div",{className:"actions",children:[e("div",{className:"button red",onClick:()=>x("left"),children:e("img",{src:"./assets/img/icons/tinder/close.svg"})}),e("div",{className:`button yellow small ${A?"":"disabled"}`,onClick:()=>F(),children:e("img",{src:"./assets/img/icons/tinder/undo.svg"})}),e("div",{className:"button green",onClick:()=>x("right"),children:e("img",{src:"./assets/img/icons/tinder/heart.svg"})})]})]})]})}const Ve=s=>{let r=s.user;const[i,a]=c.useState(0),[u,p]=c.useState(0);return c.useEffect(()=>{p(Z(r.dob))},[r]),o("div",{className:"card",style:{backgroundImage:`url(${r.photos[i]})`},onClick:g=>{i<r.photos.length-1?a(i+1):a(0)},children:[r.photos.length>1&&e("div",{className:"image-count",children:r.photos.map((g,f)=>e("div",{className:`image ${f==i?"active":""}`,onClick:w=>{w.stopPropagation(),a(f)}}))}),o("div",{className:"card-content",children:[o("div",{className:"name",children:[r.name," ",e("span",{children:u})]}),e("div",{className:"description",children:r.bio})]})]})};function $e(){const{Func:s}=c.useContext(Ne),{LoggedIn:r,Account:i}=c.useContext(H),a=X(J.PhoneNumber),[u,p]=s.TextColor,[g,f]=i,[w,I]=r,[T,d]=c.useState("notLoggedIn"),[l,v]=c.useState(0),[b,E]=c.useState({});c.useEffect(()=>{T=="notLoggedIn"?p("#ffffff"):p("#000000")},[T]);const[n,P]=c.useState({name:null,photos:[],_dob:{day:"",month:"",year:""},dob:null,bio:null,showMen:!1,showWomen:!1,isMale:null}),M=N=>{var t,y,C;switch(N){case 0:let S=new Date(`${(t=n._dob)==null?void 0:t.year}/${(y=n._dob)==null?void 0:y.month}/${(C=n._dob)==null?void 0:C.day}`);if(k(S)){let A=Z(S);n.name&&n.name.length>=2&&A>=18&&A<=100&&(P({...n,dob:S.getTime()}),v(N+1))}break;case 1:n.photos.length>0&&v(N+1);break;case 2:n.bio&&n.bio.length>=10&&v(N+1);break;case 3:(n.showMen||n.showWomen)&&v(N+1);break;case 4:(n.isMale==!0||n.isMale==!1)&&L("Tinder",{action:"createAccount",data:{...n,dob:new Date(n.dob).toISOString().split("T")[0]}}).then(A=>{A&&(G.APPS.TINDER.account.set(n),f(n),I(!0))});break}},k=N=>N.getTime()===N.getTime();return e("div",{className:"login-container",style:{background:T==="notLoggedIn"?"linear-gradient(45deg, #626fbf, #952fe5)":"#ffffff"},children:T==="notLoggedIn"?o(W,{children:[o("div",{className:"logo",children:[e("img",{src:"./assets/img/icons/tinder/logo-white.png"}),e("div",{className:"logo-text",children:h("APPS.TINDER.TITLE").toLowerCase()})]}),o("div",{className:"buttons",children:[e("div",{className:"disclamer",children:h("APPS.TINDER.AGREE_TERMS")}),e("div",{className:"button create",onClick:()=>{d("createAccount")},children:h("APPS.TINDER.CREATE_ACCOUNT")})]})]}):o("div",{className:"create-account",children:[e(be,{className:"chevron",onClick:()=>{l>0?v(l-1):d("notLoggedIn")}}),l==0&&o(W,{children:[e("div",{className:"title",children:h("APPS.TINDER.CREATE_ACCOUNT")}),o("div",{className:"form-body",children:[e($,{defaultValue:ye(a),type:"text",disabled:!0}),e($,{placeholder:"Name",type:"text",maxLength:25,onChange:N=>{P({...n,name:N.target.value}),N.target.value.length>=3?E({...b,name:!0}):E({...b,name:!1})}}),o("div",{className:"dob",children:[o("div",{className:"inputs",children:[e($,{placeholder:"MM",type:"text",pattern:"/^-?\\d+\\.?\\d*$/",minLength:2,maxLength:2,onChange:N=>{P({...n,_dob:{...n._dob,month:N.target.value}})}}),e("span",{children:"/"}),e($,{placeholder:"DD",type:"text",pattern:"/^-?\\d+\\.?\\d*$/",minLength:2,maxLength:2,onChange:N=>{P({...n,_dob:{...n._dob,day:N.target.value}})}}),e("span",{children:"/"}),e($,{placeholder:"YYYY",type:"text",pattern:"/^-?\\d+\\.?\\d*$/",minLength:4,maxLength:4,onChange:N=>{var S,A,_;let t={...n,_dob:{...n._dob,year:N.target.value}};P(t);let y=new Date(`${(S=t._dob)==null?void 0:S.year}/${(A=t._dob)==null?void 0:A.month}/${(_=t._dob)==null?void 0:_.day}`),C=Z(y);C>=18&&C<100?E({...b,18:!0}):E({...b,18:!1})}})]}),e("div",{className:"disclamer",children:h("APPS.TINDER.AGE_PUBLIC")}),o("div",{className:"requirement",children:[b[18]?e(q,{className:"green"}):e(K,{className:"red"}),h("APPS.TINDER.BE_OVER_18")]}),o("div",{className:"requirement",children:[b.name?e(q,{className:"green"}):e(K,{className:"red"}),h("APPS.TINDER.NAME_MINIMUM")]})]})]})]}),l==1&&o(W,{children:[e("div",{className:"title",children:h("APPS.TINDER.ADD_PHOTOS")}),e("div",{className:"photo-grid",children:[...Array(6)].map((N,t)=>{var C;let y=((C=n.photos)==null?void 0:C[t-1])||t==0;return n.photos[t]?e("div",{className:"photo",style:{backgroundImage:`url(${n.photos[t]})`},children:e("div",{className:"button remove",onClick:()=>{let S=n.photos;S.splice(t,1),P({...n,photos:S}),S.length==0&&E({...b,photos:!1})},children:e(ie,{})})}):e("div",{className:"photo",children:y&&e("div",{className:"button add",onClick:()=>{var S,A,_;U.Gallery.set({allowExternal:(_=(A=(S=le)==null?void 0:S.value)==null?void 0:A.AllowExternal)==null?void 0:_.Tinder,onSelect:B=>P({...n,photos:[...n.photos,B.src]})}),E({...b,photos:!0})},children:e(pe,{})})})})}),o("div",{className:"requirement",children:[b.photos?e(q,{className:"green"}):e(K,{className:"red"}),h("APPS.TINDER.PHOTOS_MINIMUM")]})]}),l==2&&o(W,{children:[e("div",{className:"title",children:h("APPS.TINDER.DESCRIPTION")}),e(ve,{placeholder:"Description",maxLength:200,onChange:N=>{P({...n,bio:N.target.value}),N.target.value.length>=10?E({...b,bio:!0}):E({...b,bio:!1})}}),o("div",{className:"requirement",children:[b.bio?e(q,{className:"green"}):e(K,{className:"red"}),h("APPS.TINDER.DESCRIPTION_MINIMUM")]})]}),l==3&&o(W,{children:[e("div",{className:"title",children:h("APPS.TINDER.SHOW_ME")}),o("div",{className:"showme",children:[e("div",{className:`button border ${n.showWomen&&!n.showMen?"active":""}`,onClick:()=>{P({...n,showMen:!1,showWomen:!0})},children:h("APPS.TINDER.WOMEN")}),e("div",{className:`button border ${n.showMen&&!n.showWomen?"active":""}`,onClick:()=>{P({...n,showMen:!0,showWomen:!1})},children:h("APPS.TINDER.MEN")}),e("div",{className:`button border ${n.showMen&&n.showWomen?"active":""}`,onClick:()=>{P({...n,showMen:!0,showWomen:!0})},children:h("APPS.TINDER.EVERYONE")})]})]}),l==4&&o(W,{children:[e("div",{className:"title",children:h("APPS.TINDER.I_AM")}),o("div",{className:"showme",children:[e("div",{className:`button border ${n.isMale===!0?"active":""}`,onClick:()=>{P({...n,isMale:!0})},children:h("APPS.TINDER.MALE")}),e("div",{className:`button border ${n.isMale===!1?"active":""}`,onClick:()=>{P({...n,isMale:!1})},children:h("APPS.TINDER.FEMALE")})]})]}),e("div",{className:"button gradient",onClick:()=>M(l),children:h("APPS.TINDER.CONTINUE")})]})})}function Fe(){var N;const{View:s,User:r}=c.useContext(H);X(J.Settings);const i=X(J.PhoneNumber),[a,u]=r,[p,g]=s,[f,w]=c.useState([]),[I,T]=c.useState(0),[d,l]=c.useState(!1),[v,b]=c.useState(!1),E=c.useRef(null),[n,P]=c.useState({content:"",attachments:[]});c.useEffect(()=>{L("Tinder",{action:"getMessages",page:0,number:a.number}).then(t=>{t&&t.length>0?w(t.reverse()):l(!0)})},[]);const M=()=>{if(n.content.length===0&&n.attachments.length===0)return;const t={sender:i,recipient:a.number,content:n.content,attachments:n.attachments,timestamp:new Date().getTime()};L("Tinder",{action:"sendMessage",data:t}).then(y=>{y&&(E.current.value="",P({content:"",attachments:[]}),w([...f,t]))})};c.useEffect(()=>{let t=document.querySelector(".message-container");t.scrollTop=t.scrollHeight},[f]);const k=t=>{if(d||v)return;let y=document.querySelector("#last");if(!y)return;!Me(y)&&(b(!0),L("Tinder",{action:"getMessages",page:I+1,number:a.number}).then(S=>{S&&S.length>0?(w([...S.reverse(),...f]),b(!1)):l(!0)}),T(S=>S+1))};return Ee("tinder:newMessage",t=>{a.number===t.sender&&w([...f,t])}),o("div",{className:"home-wrapper slide left",children:[o("div",{className:"message-header",children:[e(Se,{onClick:()=>{g("messageList"),u(null)}}),o("div",{className:"user",children:[e("img",{className:"profile-picture",src:(N=a.photos)==null?void 0:N[0]}),e("div",{className:"name",children:a.name})]})]}),e("div",{className:"message-container",onScroll:k,children:e("div",{className:"message-body",children:f.map((t,y)=>{var B,j;let C,S=y===0?"last":"",A=t.sender===i?"self":"other",_=((B=f[y+1])==null?void 0:B.sender)===i?"self":"other";return f[y+1]?C=Math.abs(t.timestamp-f[y+1].timestamp)/36e5:_=void 0,o("div",{className:`message ${A}`,id:S,children:[A=="other"?o("div",{className:"message-with-pfp",children:[e("div",{className:`profile-picture ${A!==_?"show":"hide"}`,children:e("img",{src:(j=a.photos)==null?void 0:j[0]})}),o("div",{className:"message-content",children:[t.content&&e("div",{className:"content",children:he(t.content)}),t.attachments.length>0&&e("div",{className:"attatchments",children:t.attachments.map((x,F)=>te(x)?e("video",{src:x,controls:!1,loop:!0,autoPlay:!0,muted:!0,onClick:ee=>{U.FullscreenImage.set({display:!0,image:x})}},F):e(Ie,{src:x,onClick:()=>{U.FullscreenImage.set({display:!0,image:x})}},F))})]})]}):o(W,{children:[t.content&&e("div",{className:"content",children:he(t.content)}),t.attachments.length>0&&e("div",{className:"attatchments",children:t.attachments.map((x,F)=>te(x)?e("video",{src:x,controls:!1,loop:!0,autoPlay:!0,muted:!0,onClick:()=>{U.FullscreenImage.set({display:!0,image:x})}},F):e("img",{src:x,onClick:()=>{U.FullscreenImage.set({display:!0,image:x})}},F))})]}),f[y+1]&&C>6?e("div",{className:"date",children:ue(t.timestamp)}):A!==_&&e("div",{className:"date",children:ue(t.timestamp)})]},y)})})}),e("div",{className:"attachments",children:n.attachments.map((t,y)=>o("div",{className:"attachment",children:[te(t)?e("video",{src:t,controls:!1,muted:!0,loop:!0,autoPlay:!0}):e("img",{src:t}),e(ie,{onClick:()=>{P({...n,attachments:n.attachments.filter((C,S)=>S!==y)})}})]}))}),o("div",{className:"message-bottom",children:[e(Te,{className:"image",onClick:()=>{var t,y,C;n.attachments.length<3&&U.Gallery.set({includeVideos:!0,allowExternal:(C=(y=(t=le)==null?void 0:t.value)==null?void 0:y.AllowExternal)==null?void 0:C.Messages,onSelect:S=>P({...n,attachments:[...n.attachments,S.src]})})}}),o("div",{className:"input",children:[e($,{type:"text",placeholder:"Type a message...",ref:E,onChange:t=>{P({...n,content:t.target.value})},onKeyDown:t=>{t.key==="Enter"&&M()}}),e(Ce,{className:n.attachments.length>0||n.content.length>0?"active":"",onClick:()=>M()})]})]})]})}function We(){const{Func:s}=c.useContext(Ne),{View:r,User:i}=c.useContext(H),[a,u]=s.TextColor,[p,g]=i,[f,w]=r,[I,T]=c.useState({newMatches:[],messages:[]});return c.useEffect(()=>{u("#000000"),L("Tinder",{action:"getMatches"}).then(d=>{d&&T(d)})},[]),Ee("tinder:newMessage",d=>{let l=d.sender,v=JSON.parse(JSON.stringify(I)),b=v.messages.findIndex(E=>E.number===l);if(b!==-1)v.messages.unshift(v.messages.splice(b,1)[0]);else if(b=v.newMatches.findIndex(E=>E.number===l),b!==-1)v.messages.unshift(v.newMatches.splice(b,1)[0]);else return;v.messages[0].lastMessage=d.content,T(v)}),o("div",{className:"home-wrapper slide left",children:[e(de,{}),e(Ae,{placeholder:h("APPS.TINDER.SEARCH_MATCHES"),onChange:()=>{}})," ",o("div",{className:"message-list-body",children:[o("div",{className:"new-matches",children:[o("div",{className:"title",children:[h("APPS.TINDER.NEW_MATCHES"),I.newMatches.length>0&&e("span",{children:I.newMatches.length})]}),e("div",{className:"matches",children:I.newMatches.map((d,l)=>{var v;return o("div",{className:"new-match",onClick:()=>{g(d),w("message")},children:[e("img",{className:"profile-picture",src:(v=d.photos)==null?void 0:v[0]}),e("div",{className:"name",children:d.name})]},l)})})]}),o("div",{className:"recent-messages",children:[e("div",{className:"title",children:h("APPS.TINDER.MESSAGES")}),e("div",{className:"messages",children:I.messages.map((d,l)=>{var v;return d.lastMessage.length===0&&(d.lastMessage=h("APPS.MESSAGES.SENT_A_PHOTO")),o("div",{className:"message",onClick:()=>{g(d),w("message")},children:[e("img",{className:"profile-picture",src:(v=d.photos)==null?void 0:v[0]}),o("div",{className:"user",children:[e("div",{className:"name",children:d.name}),e("div",{className:"message",children:d.lastMessage.length>40?d.lastMessage.substring(0,40)+"...":d.lastMessage})]})]},l)})})]})]})]})}function Ue(){const{Account:s}=c.useContext(H),[r,i]=s,[a,u]=c.useState(r);return o("div",{className:"home-wrapper slide right",style:{backgroundColor:"#F6F6F6"},children:[e(de,{}),o("div",{className:"profile-body",children:[o("div",{className:"user",children:[e("img",{className:"profile-picture",src:a.photos[0]}),o("div",{className:"name",children:[a.name,", ",Z(a.dob)]})]}),o("div",{className:"inputs",children:[o("div",{className:"input",children:[e("div",{className:"label",children:h("APPS.TINDER.NAME")}),e($,{type:"text",defaultValue:a.name,maxLength:10,onChange:p=>{u({...a,name:p.target.value})}})]}),o("div",{className:"input center",children:[e("div",{className:"label",children:h("APPS.TINDER.PHOTOS")}),e("div",{className:"photo-grid",children:[...Array(6)].map((p,g)=>{var w;let f=((w=a.photos)==null?void 0:w[g-1])||g==0;return a.photos[g]?e("div",{className:"photo",style:{backgroundImage:`url(${a.photos[g]})`},children:e("div",{className:"photo-button remove",onClick:()=>{let I=a.photos;I.splice(g,1),u({...a,photos:I})},children:e(ie,{})})},g):e("div",{className:"photo",children:f&&e("div",{className:"photo-button add",onClick:()=>{var I,T,d;U.Gallery.set({allowExternal:(d=(T=(I=le)==null?void 0:I.value)==null?void 0:T.AllowExternal)==null?void 0:d.Tinder,onSelect:l=>u({...a,photos:[...a.photos,l.src]})})},children:e(pe,{})})})})})]}),o("div",{className:"input",children:[e("div",{className:"label",children:h("APPS.TINDER.ABOUT_ME")}),e(ve,{type:"text",defaultValue:a.bio,maxLength:100,onChange:p=>{u({...a,bio:p.target.value})}})]}),o("div",{className:"input",children:[e("div",{className:"label",children:h("APPS.TINDER.INTERESTED_IN")}),o("select",{value:a.showMen&&a.showWomen?"Everyone":a.showMen?"Men":"Women",onChange:p=>{switch(p.target.value){case"Everyone":u({...a,showMen:!0,showWomen:!0});break;case"Men":u({...a,showMen:!0,showWomen:!1});break;case"Women":u({...a,showMen:!1,showWomen:!0});break}},children:[e("option",{value:"Men",children:h("APPS.TINDER.MEN")}),e("option",{value:"Women",children:h("APPS.TINDER.WOMEN")}),e("option",{value:"Everyone",children:h("APPS.TINDER.EVERYONE")})]})]}),o("div",{className:"input",children:[e("div",{className:"label",children:h("APPS.TINDER.GENDER")}),o("select",{value:a.isMale?"male":"female",onChange:p=>{p.target.value=="male"?u({...a,isMale:!0}):u({...a,isMale:!1})},children:[e("option",{value:"male",children:h("APPS.TINDER.MALE")}),e("option",{value:"female",children:h("APPS.TINDER.FEMALE")})]})]})]}),e("div",{className:"button gradient",onClick:()=>{a.name.length>=2&&a.bio.length>=5&&a.photos.length>=1?L("Tinder",{action:"saveProfile",data:a}).then(p=>{p&&i(a)}):De("error","Issue saving tinder profile, (name not 2 characters, bio not over 5 or no photos)")},children:h("APPS.TINDER.SAVE")})]})]})}const H=c.createContext(null);function Ye(){const s=X(J.Settings),[r,i]=c.useState(!1),[a,u]=c.useState(null),[p,g]=c.useState(null),[f,w]=c.useState("home"),[I,T]=c.useState(!0),d={home:e(Oe,{}),profile:e(Ue,{}),messageList:e(We,{}),message:e(Fe,{})};return c.useEffect(()=>{if(G.APPS.TINDER.account.value){u(G.APPS.TINDER.account.value),i(!0),T(!1);return}else if(G.APPS.TINDER.account.value===!1)return T(!1);L("Tinder",{action:"isLoggedIn"}).then(l=>{l?(u(l),i(!0),G.APPS.TINDER.account.set(l)):G.APPS.TINDER.account.set(!1),T(!1)})},[]),c.useEffect(()=>(f==="message"?se.ReceiveAppNotifications.set(!1):se.ReceiveAppNotifications.set(!0),()=>{se.ReceiveAppNotifications.set(!0)}),[f]),e("div",{className:"tinder-container",children:e(H.Provider,{value:{LoggedIn:[r,i],Account:[a,u],User:[p,g],View:[f,w]},children:I||s!=null&&s.airplaneMode?e("div",{className:"loading",children:e(xe,{size:40,lineWeight:5,speed:2,color:"#000000"})}):r?d[f]:e($e,{})})})}function Z(s){var r=+new Date(s);return~~((Date.now()-r)/315576e5)}export{H as TinderContext,Ye as default,Z as getAge};
